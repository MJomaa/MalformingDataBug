<h1>BEFORE</h1>

<pre id="codeblock">
<code class="no-max-height hljs cs"><span class="hjln"><a href="#1"><span id="1"></span></a><a href="#2"><span id="2"></span></a><a href="#3"><span id="3"></span></a><a href="#4"><span id="4"></span></a><a href="#5"><span id="5"></span></a><a href="#6"><span id="6"></span></a><a href="#7"><span id="7"></span></a><a href="#8"><span id="8"></span></a><a href="#9"><span id="9"></span></a><a href="#10"><span id="10"></span></a><a href="#11"><span id="11"></span></a><a href="#12"><span id="12"></span></a><a href="#13"><span id="13"></span></a><a href="#14"><span id="14"></span></a><a href="#15"><span id="15"></span></a><a href="#16"><span id="16"></span></a><a href="#17"><span id="17"></span></a><a href="#18"><span id="18"></span></a><a href="#19"><span id="19"></span></a><a href="#20"><span id="20"></span></a><a href="#21"><span id="21"></span></a><a href="#22"><span id="22"></span></a><a href="#23"><span id="23"></span></a><a href="#24"><span id="24"></span></a><a href="#25"><span id="25"></span></a><a href="#26"><span id="26"></span></a><a href="#27"><span id="27"></span></a><a href="#28"><span id="28"></span></a><a href="#29"><span id="29"></span></a><a href="#30"><span id="30"></span></a><a href="#31"><span id="31"></span></a><a href="#32"><span id="32"></span></a><a href="#33"><span id="33"></span></a><a href="#34"><span id="34"></span></a><a href="#35"><span id="35"></span></a><a href="#36"><span id="36"></span></a><a href="#37"><span id="37"></span></a><a href="#38"><span id="38"></span></a><a href="#39"><span id="39"></span></a><a href="#40"><span id="40"></span></a><a href="#41"><span id="41"></span></a><a href="#42"><span id="42"></span></a><a href="#43"><span id="43"></span></a><a href="#44"><span id="44"></span></a><a href="#45"><span id="45"></span></a><a href="#46"><span id="46"></span></a><a href="#47"><span id="47"></span></a><a href="#48"><span id="48"></span></a><a href="#49"><span id="49"></span></a><a href="#50"><span id="50"></span></a><a href="#51"><span id="51"></span></a><a href="#52"><span id="52"></span></a><a href="#53"><span id="53"></span></a><a href="#54"><span id="54"></span></a><a href="#55"><span id="55"></span></a><a href="#56"><span id="56"></span></a><a href="#57"><span id="57"></span></a><a href="#58"><span id="58"></span></a><a href="#59"><span id="59"></span></a><a href="#60"><span id="60"></span></a><a href="#61"><span id="61"></span></a><a href="#62"><span id="62"></span></a><a href="#63"><span id="63"></span></a><a href="#64"><span id="64"></span></a><a href="#65"><span id="65"></span></a><a href="#66"><span id="66"></span></a><a href="#67"><span id="67"></span></a><a href="#68"><span id="68"></span></a><a href="#69"><span id="69"></span></a><a href="#70"><span id="70"></span></a><a href="#71"><span id="71"></span></a><a href="#72"><span id="72"></span></a><a href="#73"><span id="73"></span></a><a href="#74"><span id="74"></span></a><a href="#75"><span id="75"></span></a><a href="#76"><span id="76"></span></a><a href="#77"><span id="77"></span></a><a href="#78"><span id="78"></span></a><a href="#79"><span id="79"></span></a><a href="#80"><span id="80"></span></a><a href="#81"><span id="81"></span></a><a href="#82"><span id="82"></span></a><a href="#83"><span id="83"></span></a><a href="#84"><span id="84"></span></a><a href="#85"><span id="85"></span></a><a href="#86"><span id="86"></span></a><a href="#87"><span id="87"></span></a><a href="#88"><span id="88"></span></a><a href="#89"><span id="89"></span></a><a href="#90"><span id="90"></span></a><a href="#91"><span id="91"></span></a><a href="#92"><span id="92"></span></a><a href="#93"><span id="93"></span></a><a href="#94"><span id="94"></span></a><a href="#95"><span id="95"></span></a><a href="#96"><span id="96"></span></a><a href="#97"><span id="97"></span></a><a href="#98"><span id="98"></span></a><a href="#99"><span id="99"></span></a><a href="#100"><span id="100"></span></a><a href="#101"><span id="101"></span></a><a href="#102"><span id="102"></span></a><a href="#103"><span id="103"></span></a><a href="#104"><span id="104"></span></a><a href="#105"><span id="105"></span></a><a href="#106"><span id="106"></span></a><a href="#107"><span id="107"></span></a><a href="#108"><span id="108"></span></a><a href="#109"><span id="109"></span></a><a href="#110"><span id="110"></span></a><a href="#111"><span id="111"></span></a><a href="#112"><span id="112"></span></a><a href="#113"><span id="113"></span></a><a href="#114"><span id="114"></span></a><a href="#115"><span id="115"></span></a><a href="#116"><span id="116"></span></a><a href="#117"><span id="117"></span></a><a href="#118"><span id="118"></span></a><a href="#119"><span id="119"></span></a><a href="#120"><span id="120"></span></a></span><span class="hljs-comment">// Copyright (c) .NET Foundation. All rights reserved.</span>
<span class="hljs-comment">// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.</span>
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Threading;
<span class="hljs-keyword">using</span> Microsoft.Framework.Caching;
<span class="hljs-keyword">using</span> Microsoft.Framework.Caching.Memory;
<span class="hljs-keyword">using</span> Microsoft.Framework.Primitives;
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MemoryCacheSample</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"></span>)
        </span>{
            IMemoryCache cache = <span class="hljs-keyword">new</span> MemoryCache(<span class="hljs-keyword">new</span> MemoryCacheOptions());
    <span class="hljs-keyword">object</span> result;
    <span class="hljs-keyword">string</span> key = <span class="hljs-string">"Key"</span>;
    <span class="hljs-keyword">object</span> newObject = <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>();
    <span class="hljs-keyword">object</span> state = <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>();
    <span class="hljs-comment">// Basic CRUD operations:</span>
    <span class="hljs-comment">// Create / Overwrite</span>
            result = cache.Set(key, newObject);
            result = cache.Set(key, <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>());
    <span class="hljs-comment">// Retrieve, null if not found</span>
            result = cache.Get(key);
    <span class="hljs-comment">// Retrieve</span>
    <span class="hljs-keyword">bool</span> found = cache.TryGetValue(key, <span class="hljs-keyword">out</span> result);
    <span class="hljs-comment">// Delete</span>
            cache.Remove(key);
    <span class="hljs-comment">// Cache entry configuration:</span>
    <span class="hljs-comment">// Stays in the cache as long as possible</span>
            result = cache.Set(
                key,
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(),
    <span class="hljs-keyword">new</span> MemoryCacheEntryOptions().SetPriority(CacheItemPriority.NeverRemove));
    <span class="hljs-comment">// Automatically remove if not accessed in the given time</span>
            result = cache.Set(
                key,
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(),
    <span class="hljs-keyword">new</span> MemoryCacheEntryOptions().SetSlidingExpiration(TimeSpan.<span class="hljs-function">FromM           new <span class="hljs-title">MemoryCacheEntryOptions</span>(<span class="hljs-params"></span>)
                .<span class="hljs-title">SetSlidingExpiration</span>(<span class="hljs-params">TimeSpan.FromMinutes(<span class="hljs-number">5</span></span>))
                .<span class="hljs-title">SetAbsoluteExpiration</span>(<span class="hljs-params">DateTimeOffset.UtcNow.AddDays(<span class="hljs-number">2</span></span>)))</span>;
    <span class="hljs-comment">// Callback when evicted</span>
    <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">new</span> MemoryCacheEntryOptions()
                .RegisterPostEvictionCallback(
                (echoKey, <span class="hljs-keyword">value</span>, reason, substate) =&gt;
                {
                    Console.WriteLine(echoKey + <span class="hljs-string">": '"</span> + <span class="hljs-keyword">value</span> + <span class="hljs-string">"' was evicted due to "</span> + reason);
                });
            result = cache.Set(key, <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(), options);
    <span class="hljs-comment">// Remove on token expiration</span>
    <span class="hljs-keyword">var</span> cts = <span class="hljs-keyword">new</span> CancellationTokenSource();
            options = <span class="hljs-keyword">new</span> MemoryCacheEntryOptions()
                .AddExpirationToken(<span class="hljs-keyword">new</span> CancellationChangeToken(cts.Token))
                .RegisterPostEvictionCallback(
                (<span class="hljs-function">echo2C new <span class="hljs-title">object</span>(<span class="hljs-params"></span>))</span>;
    <span class="hljs-comment">// Retrieve, null if not found</span>
            result = cache.Get(key);
    <span class="hljs-comment">// Retrieve</span>
    <span class="hljs-keyword">bool</span> found = cache.TryGetValue(key, <span class="hljs-keyword">out</span> result);
    <span class="hljs-comment">// Delete</span>
            cache.Remove(key);
    <span class="hljs-comment">// Cache entry configuration:</span>
    <span class="hljs-comment">// Stays in the cache as long as possible</span>
            result = cache.Set(
                key,
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(),
    <span class="hljs-keyword">new</span> MemoryCacheEntryOptions().SetPriority(CacheItemPriority.NeverRemove));
    <span class="hljs-comment">// Automatically remove if not accessed in the given time</span>
            result = cache.Set(
                key,
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(),
    <span class="hljs-keyword">new</span> MemoryCacheEntryOptions().SetSlidingExpiration(TimeSpan.FromMKey, <span class="hljs-keyword">value</span>, reason, substate) =&gt;
                {
                    Console.WriteLine(echoKey + <span class="hljs-string">": '"</span> + <span class="hljs-keyword">value</span> + <span class="hljs-string">"' was evicted due to "</span> + reason);
                });
            result = cache.Set(key, <span class="hljs-keyword">new</span> <span class="hljs-keyword">object</span>(), options);
    <span class="hljs-comment">// Fire the token to see the registered callback being invoked</span>
            cts.Cancel();
    <span class="hljs-comment">// Expire an entry if the dependent entry expires</span>
    <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> link = cache.CreateLinkingScope())
            {
                cts = <span class="hljs-keyword">new</span> CancellationTokenSource();
                cache.Set(<span class="hljs-string">"key1"</span>, <span class="hljs-string">"value1"</span>, <span class="hljs-keyword">new</span> MemoryCacheEntryOptions()
                    .AddExpirationToken(<span class="hljs-keyword">new</span> CancellationChangeToken(cts.Token)));
    <span class="hljs-comment">// expire this entry if the entry with key "key1" expires.</span>
                cache.Set(<span class="hljs-string">"key2"</span>, <span class="hljs-string">"value2"</span>, <span class="hljs-keyword">new</span> MemoryCacheEntryOptions()
                    .AddEntryLink(link)
                    .RegisterPostEvictionCallback(
                    (echoKey, <span class="hljs-keyword">value</span>, reason, substate) =&gt;
                    {
                        Console.WriteLine(echoKey + <span class="hljs-string">": '"</span> + <span class="hljs-keyword">value</span> + <span class="hljs-string">"' was evicted due to "</span> + reason);
                    }));
            }
    <span class="hljs-comment">// Fire the token to see the registered callback being invoked</span>
            cts.Cancel();
        }
    }
}</code>
</pre>


<script src="~/jquery.js"></script>
<script>
    $(function () {
        var testdata = encodeURIComponent($('#codeblock').html());
        $.post("/callback", {
            data: testdata
        }, function (result) {
            //=== Check old data:           OK
            // document.write("<pre>" + decodeURIComponent(testdata) + "</pre>");
            
            //=== Raw POST Data (Fiddler):  OK
            // document.write("<pre>" + decodeURIComponent("%3Ccode%20class%3D%22no-max-height%20hljs%20cs%22%3E%3Cspan%20class%3D%22hjln%22%3E%3Ca%20href%3D%22%231%22%3E%3Cspan%20id%3D%221%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%232%22%3E%3Cspan%20id%3D%222%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%233%22%3E%3Cspan%20id%3D%223%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%234%22%3E%3Cspan%20id%3D%224%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%235%22%3E%3Cspan%20id%3D%225%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%236%22%3E%3Cspan%20id%3D%226%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%237%22%3E%3Cspan%20id%3D%227%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%238%22%3E%3Cspan%20id%3D%228%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%239%22%3E%3Cspan%20id%3D%229%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2310%22%3E%3Cspan%20id%3D%2210%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2311%22%3E%3Cspan%20id%3D%2211%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2312%22%3E%3Cspan%20id%3D%2212%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2313%22%3E%3Cspan%20id%3D%2213%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2314%22%3E%3Cspan%20id%3D%2214%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2315%22%3E%3Cspan%20id%3D%2215%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2316%22%3E%3Cspan%20id%3D%2216%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2317%22%3E%3Cspan%20id%3D%2217%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2318%22%3E%3Cspan%20id%3D%2218%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2319%22%3E%3Cspan%20id%3D%2219%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2320%22%3E%3Cspan%20id%3D%2220%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2321%22%3E%3Cspan%20id%3D%2221%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2322%22%3E%3Cspan%20id%3D%2222%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2323%22%3E%3Cspan%20id%3D%2223%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2324%22%3E%3Cspan%20id%3D%2224%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2325%22%3E%3Cspan%20id%3D%2225%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2326%22%3E%3Cspan%20id%3D%2226%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2327%22%3E%3Cspan%20id%3D%2227%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2328%22%3E%3Cspan%20id%3D%2228%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2329%22%3E%3Cspan%20id%3D%2229%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2330%22%3E%3Cspan%20id%3D%2230%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2331%22%3E%3Cspan%20id%3D%2231%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2332%22%3E%3Cspan%20id%3D%2232%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2333%22%3E%3Cspan%20id%3D%2233%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2334%22%3E%3Cspan%20id%3D%2234%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2335%22%3E%3Cspan%20id%3D%2235%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2336%22%3E%3Cspan%20id%3D%2236%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2337%22%3E%3Cspan%20id%3D%2237%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2338%22%3E%3Cspan%20id%3D%2238%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2339%22%3E%3Cspan%20id%3D%2239%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2340%22%3E%3Cspan%20id%3D%2240%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2341%22%3E%3Cspan%20id%3D%2241%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2342%22%3E%3Cspan%20id%3D%2242%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2343%22%3E%3Cspan%20id%3D%2243%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2344%22%3E%3Cspan%20id%3D%2244%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2345%22%3E%3Cspan%20id%3D%2245%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2346%22%3E%3Cspan%20id%3D%2246%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2347%22%3E%3Cspan%20id%3D%2247%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2348%22%3E%3Cspan%20id%3D%2248%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2349%22%3E%3Cspan%20id%3D%2249%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2350%22%3E%3Cspan%20id%3D%2250%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2351%22%3E%3Cspan%20id%3D%2251%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2352%22%3E%3Cspan%20id%3D%2252%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2353%22%3E%3Cspan%20id%3D%2253%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2354%22%3E%3Cspan%20id%3D%2254%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2355%22%3E%3Cspan%20id%3D%2255%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2356%22%3E%3Cspan%20id%3D%2256%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2357%22%3E%3Cspan%20id%3D%2257%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2358%22%3E%3Cspan%20id%3D%2258%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2359%22%3E%3Cspan%20id%3D%2259%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2360%22%3E%3Cspan%20id%3D%2260%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2361%22%3E%3Cspan%20id%3D%2261%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2362%22%3E%3Cspan%20id%3D%2262%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2363%22%3E%3Cspan%20id%3D%2263%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2364%22%3E%3Cspan%20id%3D%2264%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2365%22%3E%3Cspan%20id%3D%2265%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2366%22%3E%3Cspan%20id%3D%2266%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2367%22%3E%3Cspan%20id%3D%2267%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2368%22%3E%3Cspan%20id%3D%2268%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2369%22%3E%3Cspan%20id%3D%2269%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2370%22%3E%3Cspan%20id%3D%2270%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2371%22%3E%3Cspan%20id%3D%2271%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2372%22%3E%3Cspan%20id%3D%2272%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2373%22%3E%3Cspan%20id%3D%2273%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2374%22%3E%3Cspan%20id%3D%2274%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2375%22%3E%3Cspan%20id%3D%2275%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2376%22%3E%3Cspan%20id%3D%2276%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2377%22%3E%3Cspan%20id%3D%2277%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2378%22%3E%3Cspan%20id%3D%2278%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2379%22%3E%3Cspan%20id%3D%2279%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2380%22%3E%3Cspan%20id%3D%2280%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2381%22%3E%3Cspan%20id%3D%2281%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2382%22%3E%3Cspan%20id%3D%2282%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2383%22%3E%3Cspan%20id%3D%2283%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2384%22%3E%3Cspan%20id%3D%2284%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2385%22%3E%3Cspan%20id%3D%2285%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2386%22%3E%3Cspan%20id%3D%2286%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2387%22%3E%3Cspan%20id%3D%2287%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2388%22%3E%3Cspan%20id%3D%2288%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2389%22%3E%3Cspan%20id%3D%2289%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2390%22%3E%3Cspan%20id%3D%2290%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2391%22%3E%3Cspan%20id%3D%2291%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2392%22%3E%3Cspan%20id%3D%2292%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2393%22%3E%3Cspan%20id%3D%2293%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2394%22%3E%3Cspan%20id%3D%2294%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2395%22%3E%3Cspan%20id%3D%2295%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2396%22%3E%3Cspan%20id%3D%2296%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2397%22%3E%3Cspan%20id%3D%2297%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2398%22%3E%3Cspan%20id%3D%2298%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%2399%22%3E%3Cspan%20id%3D%2299%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23100%22%3E%3Cspan%20id%3D%22100%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23101%22%3E%3Cspan%20id%3D%22101%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23102%22%3E%3Cspan%20id%3D%22102%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23103%22%3E%3Cspan%20id%3D%22103%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23104%22%3E%3Cspan%20id%3D%22104%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23105%22%3E%3Cspan%20id%3D%22105%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23106%22%3E%3Cspan%20id%3D%22106%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23107%22%3E%3Cspan%20id%3D%22107%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23108%22%3E%3Cspan%20id%3D%22108%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23109%22%3E%3Cspan%20id%3D%22109%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23110%22%3E%3Cspan%20id%3D%22110%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23111%22%3E%3Cspan%20id%3D%22111%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23112%22%3E%3Cspan%20id%3D%22112%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23113%22%3E%3Cspan%20id%3D%22113%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23114%22%3E%3Cspan%20id%3D%22114%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23115%22%3E%3Cspan%20id%3D%22115%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23116%22%3E%3Cspan%20id%3D%22116%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23117%22%3E%3Cspan%20id%3D%22117%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23118%22%3E%3Cspan%20id%3D%22118%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23119%22%3E%3Cspan%20id%3D%22119%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Ca%20href%3D%22%23120%22%3E%3Cspan%20id%3D%22120%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3C%2Fspan%3E%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Copyright%20(c)%20.NET%20Foundation.%20All%20rights%20reserved.%3C%2Fspan%3E%0A%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Licensed%20under%20the%20Apache%20License%2C%20Version%202.0.%20See%20License.txt%20in%20the%20project%20root%20for%20license%20information.%3C%2Fspan%3E%0A%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20System%3B%0A%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20System.Threading%3B%0A%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20Microsoft.Framework.Caching%3B%0A%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20Microsoft.Framework.Caching.Memory%3B%0A%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20Microsoft.Framework.Primitives%3B%0A%3Cspan%20class%3D%22hljs-keyword%22%3Enamespace%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-title%22%3EMemoryCacheSample%3C%2Fspan%3E%0A%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-title%22%3EProgram%3C%2Fspan%3E%0A%20%20%20%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-title%22%3EMain%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%0A%20%20%20%20%20%20%20%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20IMemoryCache%20cache%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCache(%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheOptions())%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E%20result%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Estring%3C%2Fspan%3E%20key%20%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%22Key%22%3C%2Fspan%3E%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E%20newObject%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E%20state%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Basic%20CRUD%20operations%3A%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Create%20%2F%20Overwrite%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(key%2C%20newObject)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(key%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E())%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Retrieve%2C%20null%20if%20not%20found%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Get(key)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Retrieve%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E%20found%20%3D%20cache.TryGetValue(key%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Eout%3C%2Fspan%3E%20result)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Delete%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.Remove(key)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Cache%20entry%20configuration%3A%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Stays%20in%20the%20cache%20as%20long%20as%20possible%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions().SetPriority(CacheItemPriority.NeverRemove))%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Automatically%20remove%20if%20not%20accessed%20in%20the%20given%20time%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions().SetSlidingExpiration(TimeSpan.%3Cspan%20class%3D%22hljs-function%22%3EFromM%20%20%20%20%20%20%20%20%20%20%20new%20%3Cspan%20class%3D%22hljs-title%22%3EMemoryCacheEntryOptions%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.%3Cspan%20class%3D%22hljs-title%22%3ESetSlidingExpiration%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3ETimeSpan.FromMinutes(%3Cspan%20class%3D%22hljs-number%22%3E5%3C%2Fspan%3E%3C%2Fspan%3E))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.%3Cspan%20class%3D%22hljs-title%22%3ESetAbsoluteExpiration%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3EDateTimeOffset.UtcNow.AddDays(%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E%3C%2Fspan%3E)))%3C%2Fspan%3E%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Callback%20when%20evicted%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20options%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.RegisterPostEvictionCallback(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(echoKey%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%2C%20reason%2C%20substate)%20%3D%26gt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(echoKey%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%3A%20'%22%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22'%20was%20evicted%20due%20to%20%22%3C%2Fspan%3E%20%2B%20reason)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(key%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%20options)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Remove%20on%20token%20expiration%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20cts%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20CancellationTokenSource()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20options%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.AddExpirationToken(%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20CancellationChangeToken(cts.Token))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.RegisterPostEvictionCallback(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(%3Cspan%20class%3D%22hljs-function%22%3Eecho2C%20new%20%3Cspan%20class%3D%22hljs-title%22%3Eobject%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E))%3C%2Fspan%3E%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Retrieve%2C%20null%20if%20not%20found%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Get(key)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Retrieve%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E%20found%20%3D%20cache.TryGetValue(key%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Eout%3C%2Fspan%3E%20result)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Delete%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.Remove(key)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Cache%20entry%20configuration%3A%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Stays%20in%20the%20cache%20as%20long%20as%20possible%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions().SetPriority(CacheItemPriority.NeverRemove))%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Automatically%20remove%20if%20not%20accessed%20in%20the%20given%20time%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions().SetSlidingExpiration(TimeSpan.FromMKey%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%2C%20reason%2C%20substate)%20%3D%26gt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(echoKey%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%3A%20'%22%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22'%20was%20evicted%20due%20to%20%22%3C%2Fspan%3E%20%2B%20reason)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20cache.Set(key%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eobject%3C%2Fspan%3E()%2C%20options)%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Fire%20the%20token%20to%20see%20the%20registered%20callback%20being%20invoked%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20cts.Cancel()%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Expire%20an%20entry%20if%20the%20dependent%20entry%20expires%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eusing%3C%2Fspan%3E%20(%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20link%20%3D%20cache.CreateLinkingScope())%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cts%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20CancellationTokenSource()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cache.Set(%3Cspan%20class%3D%22hljs-string%22%3E%22key1%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-string%22%3E%22value1%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.AddExpirationToken(%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20CancellationChangeToken(cts.Token)))%3B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20expire%20this%20entry%20if%20the%20entry%20with%20key%20%22key1%22%20expires.%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cache.Set(%3Cspan%20class%3D%22hljs-string%22%3E%22key2%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-string%22%3E%22value2%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E%20MemoryCacheEntryOptions()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.AddEntryLink(link)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.RegisterPostEvictionCallback(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(echoKey%2C%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%2C%20reason%2C%20substate)%20%3D%26gt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(echoKey%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%3A%20'%22%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-keyword%22%3Evalue%3C%2Fspan%3E%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22'%20was%20evicted%20due%20to%20%22%3C%2Fspan%3E%20%2B%20reason)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20Fire%20the%20token%20to%20see%20the%20registered%20callback%20being%20invoked%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20cts.Cancel()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%3C%2Fcode%3E%0A") + "</pre>");

            //=== Server Response:          MALFORMED
             document.write("<pre>" + decodeURIComponent(result.data2) + "</pre>");
        });
    });
</script>
